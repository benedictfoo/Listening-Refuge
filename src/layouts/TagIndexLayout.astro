---
import {getCollection} from "astro:content";

import BaseLayout from "./BaseLayout.astro";
import Prose from "../components/Prose.astro";
import Button from "../components/Button.astro";
import {getBlogPosts} from "../lib/content";


const allPosts = await getBlogPosts();
const uniqueTags = [...new Set(allPosts.map((post) => post.data.tags).flat())];
---


<BaseLayout title="Music tags" description="View the tags of music posts">
    <Prose>
        <div class=` p-3 rounded-md shadow-sm mb-6`>
            <h1>Tags of my Posts</h1>
            <h2>Explore topics that interest you</h2>

            <ul class="flex flex-wrap gap-2 p-0">
                {uniqueTags?.map((tag: any) =>
                        <li class="list-none px-0" role="option"
                        >
                            <Button href={`/tags/${tag}/`} text={tag}/>

                        </li>)}
            </ul>
        </div>
    </Prose>

</BaseLayout>
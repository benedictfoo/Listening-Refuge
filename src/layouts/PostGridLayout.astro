---
import {Image} from "astro:assets";
import FormattedDate from "../components/FormattedDate.astro";
import PostExcerpt from '@igor.dvlpr/astro-post-excerpt'
import type {CollectionEntry} from "astro:content";
type Post = CollectionEntry<'blog'>
interface Props {
    posts: Post[];
    title?: string

}
const {posts, title} = Astro.props;
---


<div class="grid justify-center max-w-6xl mx-auto">
    {title && (<h1 class="text-4xl font-black ">{title}</h1>)}

    <ul class="list-none py-3 ">
        {posts.map((post, i) => (
                <li class="py-3">
                    <a href={`/blog/${post.id}/`}>
                        {post.data.heroImage && (

                                <Image

                                        width={1200}

                                        src={post.data.heroImage}
                                        alt=""

                                />
                        )}
                    </a>

                    <div class="py-3 px-1">


                        <a href={`/blog/${post.id}/`}>
                            <h4 class="text-xl font-semibold">{post.data.title}</h4>
                            <p class="font-medium ">
                                <FormattedDate date={post.data.pubDate}/>
                            </p>
                            <div class="py-3">
                                <PostExcerpt post={post} smartEllipsis={true} maxLength={0}/>
                            </div>
                        </a>
                    </div>
                </li>
        ))}

    </ul>
</div>


